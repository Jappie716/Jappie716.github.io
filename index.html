<!DOCTYPE html>
<html lang="nl">
<head>
<meta charset="UTF-8">
<title>Firebase Game Hub</title>

<!-- CSS -->
<link rel="stylesheet" href="css/variables.css">
<link rel="stylesheet" href="css/layout.css">

<meta name="viewport" content="width=device-width, initial-scale=1.0">

</head>
<body data-theme="dark">

<header>
  <div class="header-logo">
    <button class="hamburger" id="hamburger">â˜°</button>
    <h1><a href="#">Game Hub</a></h1>
  </div>

  <div>
    <span id="user-email">Niet ingelogd</span>
    <button class="btn" id="logout-btn">Logout</button>
  </div>
</header>

<div id="wrapper">

  <!-- SIDEBAR -->
  <aside id="sidebar">
    <div class="sidebar-category">
      <h3>Account</h3>
      <a href="#" class="sidebar-link" id="login-link">Login</a>
      <a href="#" class="sidebar-link" id="play-link">Play Game</a>
    </div>
  </aside>

  <!-- MAIN CONTENT -->
  <div id="main-content-area">
    <main>

      <!-- LOGIN -->
      <section id="login-section">
        <div class="game-detail">
          <h2>Login</h2>
          <input id="email" placeholder="Email"><br><br>
          <input id="password" type="password" placeholder="Wachtwoord"><br><br>

          <button class="btn-primary" id="login-btn">Login</button>
          <button class="btn" id="register-btn">Register</button>

          <p id="status"></p>
        </div>
      </section>

      <!-- HERO -->
      <section id="hero" class="hidden">
        <h2>Welkom bij Game Hub</h2>
        <p>Je bent ingelogd. Klik hieronder om te spelen.</p>
        <button id="hero-play">Play Game</button>
      </section>

    </main>
  </div>
</div>

<!-- FIREBASE -->
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>

<script>
/* ðŸ”‘ FIREBASE CONFIG */
const firebaseConfig = {
  apiKey: "HIER_JE_API_KEY",
  authDomain: "HIER_JE_AUTH_DOMAIN",
  projectId: "HIER_JE_PROJECT_ID",
  storageBucket: "HIER_JE_STORAGE_BUCKET",
  messagingSenderId: "HIER_JE_SENDER_ID",
  appId: "HIER_JE_APP_ID"
};

firebase.initializeApp(firebaseConfig);

const auth = firebase.auth();
const db = firebase.firestore();

/* ELEMENTEN */
const emailInput = document.getElementById("email");
const passwordInput = document.getElementById("password");
const loginBtn = document.getElementById("login-btn");
const registerBtn = document.getElementById("register-btn");
const statusText = document.getElementById("status");
const hero = document.getElementById("hero");
const loginSection = document.getElementById("login-section");
const userEmail = document.getElementById("user-email");
const playLink = document.getElementById("play-link");
const heroPlay = document.getElementById("hero-play");
const logoutBtn = document.getElementById("logout-btn");

/* LOGIN */
loginBtn.onclick = () => {
  auth.signInWithEmailAndPassword(
    emailInput.value,
    passwordInput.value
  ).catch(err => alert(err.message));
};

/* REGISTER */
registerBtn.onclick = () => {
  auth.createUserWithEmailAndPassword(
    emailInput.value,
    passwordInput.value
  ).catch(err => alert(err.message));
};

/* LOGOUT */
logoutBtn.onclick = () => {
  auth.signOut();
};

/* AUTH STATUS */
auth.onAuthStateChanged(user => {
  if (user) {
    userEmail.innerText = user.email;
    loginSection.classList.add("hidden");
    hero.classList.remove("hidden");
  } else {
    userEmail.innerText = "Niet ingelogd";
    loginSection.classList.remove("hidden");
    hero.classList.add("hidden");
  }
});

/* PLAY GAME */
function goToGame() {
  window.location.href = "drive_mad.html";
}

playLink.onclick = goToGame;
heroPlay.onclick = goToGame;

/* MOBILE SIDEBAR */
const hamburger = document.getElementById("hamburger");
hamburger.onclick = () => {
  document.body.classList.toggle("sidebar-open");
};
</script>

</body>
</html>
